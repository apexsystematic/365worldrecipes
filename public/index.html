<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>365 World Recipes</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #FAF6EF;
    --ink: #1A1208;
    --terra: #C4512A;
    --gold: #D4A843;
    --sage: #7A9E7E;
    --warm-gray: #8C7B6B;
    --card-bg: #FFFFFF;
    --border: #E8DFD0;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--cream);
    color: var(--ink);
    min-height: 100vh;
  }

  /* HEADER */
  header {
    background: var(--ink);
    color: var(--cream);
    padding: 0;
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 3px solid var(--terra);
  }

  .header-inner {
    max-width: 1400px;
    margin: 0 auto;
    padding: 16px 32px;
    display: flex;
    align-items: center;
    gap: 32px;
    flex-wrap: wrap;
  }

  .logo {
    font-family: 'Playfair Display', serif;
    font-size: 1.6rem;
    letter-spacing: -0.5px;
    white-space: nowrap;
  }

  .logo span { color: var(--terra); font-style: italic; }

  .search-bar {
    flex: 1;
    min-width: 200px;
    position: relative;
  }

  .search-bar input {
    width: 100%;
    padding: 10px 16px 10px 40px;
    border-radius: 8px;
    border: 1.5px solid rgba(255,255,255,0.15);
    background: rgba(255,255,255,0.08);
    color: var(--cream);
    font-family: 'DM Sans', sans-serif;
    font-size: 0.9rem;
    outline: none;
    transition: border-color 0.2s;
  }

  .search-bar input::placeholder { color: rgba(250,246,239,0.5); }
  .search-bar input:focus { border-color: var(--terra); }

  .search-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0.5;
    font-size: 0.9rem;
  }

  .header-stats {
    font-size: 0.8rem;
    color: rgba(250,246,239,0.6);
    white-space: nowrap;
  }

  .header-stats strong { color: var(--gold); }

  /* FILTERS */
  .filters-bar {
    background: var(--card-bg);
    border-bottom: 1px solid var(--border);
    padding: 0 32px;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .filters-bar::-webkit-scrollbar { display: none; }

  .filters-inner {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    gap: 8px;
    padding: 12px 0;
    white-space: nowrap;
  }

  .filter-btn {
    padding: 6px 16px;
    border-radius: 20px;
    border: 1.5px solid var(--border);
    background: transparent;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.82rem;
    font-weight: 500;
    color: var(--warm-gray);
    cursor: pointer;
    transition: all 0.18s;
    white-space: nowrap;
  }

  .filter-btn:hover { border-color: var(--terra); color: var(--terra); }
  .filter-btn.active { background: var(--terra); border-color: var(--terra); color: white; }

  /* MAIN LAYOUT */
  main {
    max-width: 1400px;
    margin: 0 auto;
    padding: 32px;
  }

  /* HERO */
  .hero {
    background: var(--ink);
    border-radius: 16px;
    padding: 48px;
    margin-bottom: 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 32px;
    overflow: hidden;
    position: relative;
  }

  .hero::before {
    content: '';
    position: absolute;
    right: -60px;
    top: -60px;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(196,81,42,0.3), transparent 70%);
  }

  .hero-text h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 4vw, 3.2rem);
    color: var(--cream);
    line-height: 1.15;
    margin-bottom: 12px;
  }

  .hero-text h1 em { color: var(--terra); font-style: italic; }

  .hero-text p {
    color: rgba(250,246,239,0.65);
    font-size: 1rem;
    line-height: 1.6;
    max-width: 480px;
  }

  .hero-badges {
    display: flex;
    gap: 12px;
    margin-top: 24px;
    flex-wrap: wrap;
  }

  .badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    border-radius: 20px;
    border: 1px solid rgba(250,246,239,0.2);
    font-size: 0.8rem;
    color: rgba(250,246,239,0.7);
  }

  .badge-icon { font-size: 1rem; }

  .hero-number {
    font-family: 'Playfair Display', serif;
    font-size: clamp(5rem, 12vw, 10rem);
    font-weight: 700;
    color: rgba(196,81,42,0.25);
    line-height: 1;
    position: relative;
    z-index: 1;
    user-select: none;
  }

  /* RECIPE GRID */
  .section-header {
    display: flex;
    align-items: baseline;
    gap: 16px;
    margin-bottom: 24px;
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.6rem;
  }

  .section-count {
    font-size: 0.85rem;
    color: var(--warm-gray);
  }

  .recipe-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 24px;
  }

  .recipe-card {
    background: var(--card-bg);
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid var(--border);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    animation: fadeIn 0.4s ease both;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .recipe-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 32px rgba(26,18,8,0.12);
  }

  .card-emoji {
    height: 140px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4rem;
    background: linear-gradient(135deg, #FDF8F0 0%, #F0E8D8 100%);
    position: relative;
  }

  .card-flag {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 1.4rem;
  }

  .card-time {
    position: absolute;
    bottom: 10px;
    left: 10px;
    background: rgba(26,18,8,0.75);
    color: white;
    font-size: 0.72rem;
    padding: 3px 8px;
    border-radius: 12px;
    font-weight: 500;
  }

  .card-body {
    padding: 16px;
  }

  .card-cuisine {
    font-size: 0.72rem;
    font-weight: 500;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--terra);
    margin-bottom: 4px;
  }

  .card-name {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    line-height: 1.3;
    margin-bottom: 8px;
  }

  .card-desc {
    font-size: 0.82rem;
    color: var(--warm-gray);
    line-height: 1.5;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    border-top: 1px solid var(--border);
    font-size: 0.78rem;
    color: var(--warm-gray);
  }

  .card-servings { display: flex; align-items: center; gap: 4px; }

  .difficulty {
    display: flex;
    gap: 3px;
  }

  .difficulty-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--border);
  }

  .difficulty-dot.filled { background: var(--gold); }

  /* MODAL */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(26,18,8,0.7);
    z-index: 200;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding: 32px 16px;
    overflow-y: auto;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s;
    backdrop-filter: blur(4px);
  }

  .modal-overlay.open { opacity: 1; pointer-events: all; }

  .modal {
    background: var(--card-bg);
    border-radius: 20px;
    width: 100%;
    max-width: 740px;
    overflow: hidden;
    transform: translateY(20px);
    transition: transform 0.3s;
    box-shadow: 0 32px 80px rgba(26,18,8,0.3);
  }

  .modal-overlay.open .modal { transform: translateY(0); }

  .modal-header {
    background: var(--ink);
    padding: 36px 40px 28px;
    position: relative;
  }

  .modal-emoji { font-size: 3.5rem; margin-bottom: 12px; display: block; }

  .modal-cuisine {
    font-size: 0.75rem;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--terra);
    margin-bottom: 6px;
  }

  .modal-title {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    color: var(--cream);
    line-height: 1.2;
    margin-bottom: 12px;
  }

  .modal-desc {
    color: rgba(250,246,239,0.65);
    font-size: 0.9rem;
    line-height: 1.6;
  }

  .modal-meta {
    display: flex;
    gap: 24px;
    margin-top: 20px;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
    color: rgba(250,246,239,0.7);
  }

  .meta-icon { font-size: 1.1rem; }
  .meta-value { color: var(--cream); font-weight: 500; }

  .modal-close {
    position: absolute;
    top: 16px;
    right: 16px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 1.5px solid rgba(255,255,255,0.2);
    background: transparent;
    color: rgba(250,246,239,0.7);
    font-size: 1.1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
  }

  .modal-close:hover { background: rgba(255,255,255,0.1); color: white; }

  .modal-body {
    padding: 36px 40px;
  }

  .modal-section-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 2px solid var(--border);
  }

  .ingredients-list {
    list-style: none;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    margin-bottom: 32px;
  }

  @media (max-width: 520px) { .ingredients-list { grid-template-columns: 1fr; } }

  .ingredient-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.88rem;
    line-height: 1.4;
  }

  .ingredient-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--terra);
    flex-shrink: 0;
  }

  .steps-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .step-item {
    display: flex;
    gap: 16px;
    align-items: flex-start;
  }

  .step-num {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--terra);
    color: white;
    font-size: 0.8rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin-top: 1px;
  }

  .step-text {
    font-size: 0.9rem;
    line-height: 1.65;
    color: #3A2E22;
  }

  /* LOAD MORE */
  .load-more-section {
    text-align: center;
    margin-top: 48px;
    padding: 40px;
    background: var(--card-bg);
    border-radius: 16px;
    border: 2px dashed var(--border);
  }

  .load-more-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.4rem;
    margin-bottom: 8px;
  }

  .load-more-desc {
    color: var(--warm-gray);
    font-size: 0.88rem;
    margin-bottom: 20px;
  }

  .btn-primary {
    padding: 14px 32px;
    background: var(--terra);
    color: white;
    border: none;
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s, transform 0.15s;
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }

  .btn-primary:hover { background: #B04420; transform: translateY(-1px); }
  .btn-primary:disabled { background: var(--warm-gray); cursor: not-allowed; transform: none; }

  .loading-spinner {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255,255,255,0.4);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.7s linear infinite;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  .progress-bar-wrap {
    background: var(--border);
    border-radius: 4px;
    height: 6px;
    margin: 20px auto 8px;
    max-width: 300px;
  }

  .progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--terra), var(--gold));
    border-radius: 4px;
    transition: width 0.5s ease;
  }

  .progress-label {
    font-size: 0.8rem;
    color: var(--warm-gray);
  }

  /* EMPTY STATE */
  .empty-state {
    text-align: center;
    padding: 80px 32px;
    color: var(--warm-gray);
  }

  .empty-state .big-emoji { font-size: 3rem; margin-bottom: 16px; }
  .empty-state h3 { font-family: 'Playfair Display', serif; font-size: 1.3rem; color: var(--ink); margin-bottom: 8px; }
  
  /* TOAST */
  .toast {
    position: fixed;
    bottom: 32px;
    left: 50%;
    transform: translateX(-50%) translateY(80px);
    background: var(--ink);
    color: var(--cream);
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 0.88rem;
    z-index: 999;
    transition: transform 0.3s;
    pointer-events: none;
  }

  .toast.show { transform: translateX(-50%) translateY(0); }

  @media (max-width: 768px) {
    main { padding: 16px; }
    .hero { padding: 28px; }
    .hero-number { font-size: 5rem; }
    .modal-header, .modal-body { padding: 24px; }
    .filters-bar { padding: 0 16px; }
    .header-inner { padding: 14px 16px; }
  }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">365 <span>World</span> Recipes</div>
    <div class="search-bar">
      <span class="search-icon">ğŸ”</span>
      <input type="text" id="searchInput" placeholder="Search recipes, cuisines, ingredientsâ€¦">
    </div>
    <div class="header-stats">
      <strong id="loadedCount">0</strong> / 365 recipes loaded
    </div>
  </div>
</header>

<div class="filters-bar">
  <div class="filters-inner" id="filterButtons">
    <button class="filter-btn active" data-filter="all">ğŸŒ All</button>
    <button class="filter-btn" data-filter="asian">ğŸŒ Asian</button>
    <button class="filter-btn" data-filter="european">ğŸ‡ªğŸ‡º European</button>
    <button class="filter-btn" data-filter="middle-eastern">ğŸŒ™ Middle Eastern</button>
    <button class="filter-btn" data-filter="latin-american">ğŸŒ® Latin American</button>
    <button class="filter-btn" data-filter="african">ğŸŒ African</button>
    <button class="filter-btn" data-filter="north-american">ğŸ¦… North American</button>
    <button class="filter-btn" data-filter="under-30">âš¡ Under 30 min</button>
    <button class="filter-btn" data-filter="vegetarian">ğŸ¥¦ Vegetarian</button>
  </div>
</div>

<main>
  <div class="hero">
    <div class="hero-text">
      <h1>Cook the <em>World,</em><br>One Day at a Time</h1>
      <p>365 authentic, easy-to-make recipes from every corner of the globe. Simple ingredients, real cookware, no processed foods â€” ready in under 60 minutes.</p>
      <div class="hero-badges">
        <div class="badge"><span class="badge-icon">â±ï¸</span> Under 60 min</div>
        <div class="badge"><span class="badge-icon">ğŸ›’</span> Simple ingredients</div>
        <div class="badge"><span class="badge-icon">ğŸŒ±</span> No processed foods</div>
        <div class="badge"><span class="badge-icon">ğŸ³</span> Basic cookware</div>
      </div>
    </div>
    <div class="hero-number">365</div>
  </div>

  <div class="section-header">
    <h2 class="section-title">All Recipes</h2>
    <span class="section-count" id="visibleCount">Loadingâ€¦</span>
  </div>

  <div class="recipe-grid" id="recipeGrid"></div>

  <div class="load-more-section" id="loadMoreSection" style="display:none">
    <div class="load-more-title">More Recipes Await</div>
    <div class="load-more-desc" id="loadMoreDesc"></div>
    <div class="progress-bar-wrap">
      <div class="progress-bar-fill" id="progressBar" style="width:0%"></div>
    </div>
    <div class="progress-label" id="progressLabel"></div>
    <br><br>
    <button class="btn-primary" id="loadMoreBtn" onclick="loadMoreRecipes()">
      <span id="loadMoreBtnText">âœ¨ Generate More Recipes</span>
    </button>
  </div>
</main>

<!-- Modal -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
  <div class="modal" id="modal">
    <div class="modal-header">
      <button class="modal-close" onclick="closeModalDirect()">âœ•</button>
      <span class="modal-emoji" id="modalEmoji"></span>
      <div class="modal-cuisine" id="modalCuisine"></div>
      <div class="modal-title" id="modalTitle"></div>
      <div class="modal-desc" id="modalDesc"></div>
      <div class="modal-meta" id="modalMeta"></div>
    </div>
    <div class="modal-body">
      <div class="modal-section-title">Ingredients</div>
      <ul class="ingredients-list" id="modalIngredients"></ul>
      <div class="modal-section-title">Instructions</div>
      <ol class="steps-list" id="modalSteps"></ol>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// â”€â”€â”€ SEED DATA (60 pre-loaded recipes) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const SEED_RECIPES = [
  { id:1, name:"Shakshuka", cuisine:"Middle Eastern", country:"Tunisia/Israel", emoji:"ğŸ³", flag:"ğŸ‡¹ğŸ‡³", time:25, servings:4, difficulty:1, vegetarian:true, region:"middle-eastern", desc:"Eggs poached in a rich spiced tomato sauce with peppers and onions.", ingredients:["6 eggs","4 ripe tomatoes, chopped","1 red bell pepper, diced","1 onion, diced","3 garlic cloves, minced","1 tsp cumin","1 tsp paprika","Â½ tsp chili flakes","Salt & pepper","Fresh parsley","Olive oil"], steps:["Heat olive oil in a wide pan. SautÃ© onion and pepper 5 min.","Add garlic, cumin, paprika, chili. Cook 1 min.","Add tomatoes, season, simmer 10 min until thick.","Make wells, crack eggs in. Cover and cook 5â€“8 min to desired doneness.","Top with parsley and serve with crusty bread."] },
  { id:2, name:"Pad Thai", cuisine:"Thai", country:"Thailand", emoji:"ğŸœ", flag:"ğŸ‡¹ğŸ‡­", time:30, servings:2, difficulty:2, vegetarian:false, region:"asian", desc:"Stir-fried rice noodles with egg, bean sprouts and tamarind sauce.", ingredients:["200g rice noodles","2 eggs","100g shrimp or tofu","2 tbsp tamarind paste","1 tbsp fish sauce","1 tsp sugar","2 spring onions","Handful bean sprouts","2 tbsp roasted peanuts","Lime wedges","2 tbsp oil","2 garlic cloves, minced"], steps:["Soak noodles in warm water 15 min, drain.","Mix tamarind, fish sauce, sugar into sauce.","Heat oil, fry garlic and shrimp/tofu 2 min.","Push aside, scramble eggs.","Add noodles and sauce, toss 3 min.","Add bean sprouts and spring onions, toss 1 min.","Serve topped with peanuts and lime."] },
  { id:3, name:"Risotto ai Funghi", cuisine:"Italian", country:"Italy", emoji:"ğŸš", flag:"ğŸ‡®ğŸ‡¹", time:35, servings:4, difficulty:2, vegetarian:true, region:"european", desc:"Creamy Arborio rice with earthy mushrooms and Parmesan.", ingredients:["300g Arborio rice","400g mixed mushrooms, sliced","1 onion, finely diced","3 garlic cloves","1L vegetable stock, hot","120ml white wine","60g Parmesan, grated","30g butter","Olive oil","Fresh thyme","Salt & pepper"], steps:["Heat stock and keep warm. SautÃ© onion in oil 5 min.","Add garlic and mushrooms, cook until golden. Set aside.","Toast rice 2 min. Add wine, stir until absorbed.","Add stock one ladle at a time, stirring until absorbed, ~20 min.","Stir in mushrooms, butter, Parmesan. Season.","Rest 2 min and serve immediately."] },
  { id:4, name:"Chicken Tikka Masala", cuisine:"Indian", country:"India/UK", emoji:"ğŸ›", flag:"ğŸ‡®ğŸ‡³", time:45, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Tender chicken in a velvety spiced tomato-cream sauce.", ingredients:["600g chicken breast, cubed","1 can crushed tomatoes","200ml cream","1 onion, diced","4 garlic cloves","1 tbsp fresh ginger","2 tsp garam masala","1 tsp turmeric","1 tsp cumin","1 tsp coriander","2 tbsp plain yogurt","Oil, salt, fresh coriander"], steps:["Marinate chicken in yogurt, garam masala, turmeric 30 min.","Grill or pan-fry chicken until charred. Set aside.","SautÃ© onion in oil 8 min. Add garlic and ginger, cook 2 min.","Add cumin, coriander, tomatoes. Simmer 10 min.","Add cream and chicken. Simmer 8 min.","Garnish with fresh coriander. Serve with rice or naan."] },
  { id:5, name:"Guacamole", cuisine:"Mexican", country:"Mexico", emoji:"ğŸ¥‘", flag:"ğŸ‡²ğŸ‡½", time:10, servings:4, difficulty:1, vegetarian:true, region:"latin-american", desc:"Fresh, vibrant avocado dip with lime, cilantro and jalapeÃ±o.", ingredients:["3 ripe avocados","2 limes, juiced","1 jalapeÃ±o, minced","1 small red onion, finely diced","2 tbsp fresh cilantro","1 tomato, diced","Â½ tsp cumin","Salt & pepper"], steps:["Halve and pit avocados. Scoop into a bowl.","Mash with a fork to desired texture.","Add lime juice immediately and mix.","Fold in all remaining ingredients.","Season well. Taste and adjust lime/salt.","Cover with cling film touching the surface. Serve fresh."] },
  { id:6, name:"Miso Soup with Tofu", cuisine:"Japanese", country:"Japan", emoji:"ğŸ²", flag:"ğŸ‡¯ğŸ‡µ", time:15, servings:2, difficulty:1, vegetarian:true, region:"asian", desc:"Silky dashi broth with white miso, tofu and wakame seaweed.", ingredients:["800ml dashi or vegetable stock","3 tbsp white miso paste","150g soft tofu, cubed","2 tbsp dried wakame seaweed","2 spring onions, sliced"], steps:["Soak wakame in cold water 5 min, drain.","Heat stock until just simmering â€” do not boil.","Dissolve miso in a ladleful of hot stock, then stir back in.","Add tofu and wakame, warm through 2 min.","Serve in bowls topped with spring onions."] },
  { id:7, name:"Greek Salad (Horiatiki)", cuisine:"Greek", country:"Greece", emoji:"ğŸ¥—", flag:"ğŸ‡¬ğŸ‡·", time:10, servings:4, difficulty:1, vegetarian:true, region:"european", desc:"Chunky tomatoes, cucumber, olives and salty feta in olive oil.", ingredients:["4 large tomatoes, chunked","1 cucumber, chunked","1 green pepper, sliced","Â½ red onion, thinly sliced","200g feta block","100g Kalamata olives","4 tbsp olive oil","1 tsp dried oregano","Salt & pepper"], steps:["Combine tomatoes, cucumber, pepper and onion in a bowl.","Top with feta block (do not crumble).","Scatter olives on top.","Drizzle generously with olive oil.","Sprinkle with oregano and a pinch of salt.","Serve with crusty bread."] },
  { id:8, name:"Tacos al Pastor", cuisine:"Mexican", country:"Mexico", emoji:"ğŸŒ®", flag:"ğŸ‡²ğŸ‡½", time:40, servings:4, difficulty:2, vegetarian:false, region:"latin-american", desc:"Marinated pork with pineapple on warm corn tortillas.", ingredients:["500g pork shoulder, thin slices","1 can pineapple chunks","3 dried guajillo chillies, rehydrated","2 garlic cloves","1 tsp cumin","1 tsp oregano","2 tbsp apple cider vinegar","Corn tortillas","Onion, cilantro to serve"], steps:["Blend chillies, garlic, cumin, oregano, vinegar into marinade.","Marinate pork at least 20 min.","Grill pork on high heat, char slightly, ~4 min per side.","Warm tortillas. Dice pork.","Assemble with pineapple, onion, cilantro.","Serve with salsa and lime."] },
  { id:9, name:"Moussaka", cuisine:"Greek", country:"Greece", emoji:"ğŸ†", flag:"ğŸ‡¬ğŸ‡·", time:60, servings:6, difficulty:3, vegetarian:false, region:"european", desc:"Baked layers of eggplant, spiced lamb and bÃ©chamel sauce.", ingredients:["2 large eggplants, sliced","500g ground lamb","1 onion, diced","3 garlic cloves","1 can crushed tomatoes","1 tsp cinnamon","1 tsp allspice","500ml bÃ©chamel sauce","60g Parmesan","Olive oil, salt, pepper"], steps:["Salt eggplant 15 min, rinse, pat dry. Brush with oil, roast 20 min at 200Â°C.","SautÃ© onion and garlic. Brown lamb. Add tomatoes, cinnamon, allspice, simmer 15 min.","Layer eggplant, then meat sauce, then bÃ©chamel in a baking dish.","Top with Parmesan. Bake 25 min until golden.","Rest 10 min before serving."] },
  { id:10, name:"Tom Yum Soup", cuisine:"Thai", country:"Thailand", emoji:"ğŸµ", flag:"ğŸ‡¹ğŸ‡­", time:25, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Hot and sour Thai soup with shrimp, lemongrass and galangal.", ingredients:["1L chicken stock","300g shrimp, peeled","200g mushrooms, halved","2 lemongrass stalks, bruised","5 slices galangal","4 kaffir lime leaves","3 Thai chillies","3 tbsp fish sauce","2 tbsp lime juice","Fresh coriander"], steps:["Simmer stock with lemongrass, galangal and lime leaves 5 min.","Add mushrooms, cook 3 min.","Add shrimp, fish sauce, chillies. Cook 3 min.","Remove from heat, add lime juice.","Taste and adjust seasoning.","Garnish with coriander. Remove lemongrass before serving."] },
  { id:11, name:"Falafel", cuisine:"Middle Eastern", country:"Lebanon", emoji:"ğŸ§†", flag:"ğŸ‡±ğŸ‡§", time:30, servings:4, difficulty:2, vegetarian:true, region:"middle-eastern", desc:"Crispy chickpea fritters with herbs and spices.", ingredients:["400g canned chickpeas, drained","1 small onion, rough chop","3 garlic cloves","1 cup fresh parsley","1 cup fresh coriander","1 tsp cumin","1 tsp coriander powder","Â½ tsp baking powder","3 tbsp flour","Salt, oil for frying"], steps:["Blend chickpeas, onion, garlic, herbs and spices until coarse.","Mix in flour and baking powder. Season.","Refrigerate 30 min if time allows.","Shape into balls or patties.","Fry in hot oil 3â€“4 min per side until golden.","Serve in pitta with tahini and salad."] },
  { id:12, name:"Beef Bulgogi", cuisine:"Korean", country:"South Korea", emoji:"ğŸ¥©", flag:"ğŸ‡°ğŸ‡·", time:30, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Thinly sliced marinated beef grilled until caramelized.", ingredients:["600g beef ribeye, thinly sliced","4 tbsp soy sauce","2 tbsp sesame oil","1 tbsp sugar","4 garlic cloves, grated","1 tsp fresh ginger, grated","1 Asian pear, grated (or apple)","Spring onions","Sesame seeds","Steamed rice"], steps:["Mix soy sauce, sesame oil, sugar, garlic, ginger, pear.","Marinate beef 20 min (or up to overnight).","Heat a grill pan on high.","Cook beef in batches, 1â€“2 min per side.","Garnish with sesame seeds and spring onions.","Serve with steamed rice and kimchi."] },
  { id:13, name:"Pesto Pasta", cuisine:"Italian", country:"Italy", emoji:"ğŸŒ¿", flag:"ğŸ‡®ğŸ‡¹", time:20, servings:4, difficulty:1, vegetarian:true, region:"european", desc:"Pasta tossed with fragrant Genovese basil pesto.", ingredients:["400g spaghetti or trofie","2 cups fresh basil leaves","3 tbsp pine nuts","2 garlic cloves","60g Parmesan, grated","120ml extra virgin olive oil","Salt & pepper","Cherry tomatoes (optional)"], steps:["Cook pasta in salted boiling water until al dente.","Blend basil, pine nuts, garlic, Parmesan with olive oil. Season.","Reserve 1 cup pasta water before draining.","Toss pasta with pesto, adding pasta water to loosen.","Serve with extra Parmesan and fresh basil."] },
  { id:14, name:"Chana Masala", cuisine:"Indian", country:"India", emoji:"ğŸ«˜", flag:"ğŸ‡®ğŸ‡³", time:35, servings:4, difficulty:1, vegetarian:true, region:"asian", desc:"Hearty spiced chickpea curry with tomatoes and onion.", ingredients:["2 cans chickpeas, drained","1 can crushed tomatoes","2 onions, diced","4 garlic cloves","1 tbsp fresh ginger","2 tsp garam masala","1 tsp cumin","1 tsp coriander","Â½ tsp turmeric","Chili to taste","Fresh coriander","Oil"], steps:["Fry onions 8 min until golden.","Add garlic and ginger, cook 2 min.","Add all spices, cook 1 min.","Add tomatoes, simmer 10 min.","Add chickpeas, simmer 10 min. Mash a few to thicken.","Top with coriander. Serve with rice or flatbread."] },
  { id:15, name:"Boeuf Bourguignon", cuisine:"French", country:"France", emoji:"ğŸ«•", flag:"ğŸ‡«ğŸ‡·", time:60, servings:6, difficulty:3, vegetarian:false, region:"european", desc:"Slow-braised beef in red wine with mushrooms and pearl onions.", ingredients:["1kg beef chuck, cubed","200g bacon lardons","300g mushrooms, quartered","200g pearl onions","2 carrots, sliced","3 garlic cloves","1 bottle red wine","400ml beef stock","2 tbsp tomato paste","Thyme, bay leaf","Flour, butter, oil"], steps:["Brown bacon, set aside. Brown beef in batches, set aside.","SautÃ© onions and carrots 5 min.","Return beef and bacon. Add flour, toss.","Pour in wine and stock. Add tomato paste, garlic, herbs.","Simmer covered 45 min.","Add mushrooms last 10 min.","Adjust seasoning. Serve with crusty bread."] },
  { id:16, name:"Ceviche", cuisine:"Peruvian", country:"Peru", emoji:"ğŸŸ", flag:"ğŸ‡µğŸ‡ª", time:20, servings:4, difficulty:1, vegetarian:false, region:"latin-american", desc:"Fresh fish 'cooked' in citrus with onion and aji amarillo chilli.", ingredients:["500g fresh white fish, diced","8 limes, juiced","1 red onion, thinly sliced","2 aji amarillo chillies (or jalapeÃ±o)","Fresh coriander","Salt","Sweet potato, cooked (to serve)","Corn kernels (to serve)"], steps:["Rinse onion slices in cold water 5 min, drain.","Toss fish with Â¾ of lime juice, salt, chilli.","Leave 10â€“15 min until fish turns opaque.","Mix in onion and coriander.","Taste for salt and lime.","Serve with sweet potato and corn."] },
  { id:17, name:"Butter Chicken", cuisine:"Indian", country:"India", emoji:"ğŸ—", flag:"ğŸ‡®ğŸ‡³", time:50, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Tender chicken in a velvety, mildly spiced tomato-butter sauce.", ingredients:["600g chicken thighs","1 can tomatoes","200ml cream","50g butter","1 onion","4 garlic cloves","1 tbsp ginger","1 tsp garam masala","1 tsp paprika","Â½ tsp turmeric","Salt, oil, fresh coriander"], steps:["Marinate chicken in yogurt and spices 20 min. Grill 5 min each side.","SautÃ© onion in butter 8 min. Add garlic and ginger.","Add tomatoes and paprika, simmer 15 min. Blend smooth.","Add cream and butter. Simmer 5 min.","Add chicken, simmer 10 min.","Serve with naan and garnish with coriander."] },
  { id:18, name:"Ful Medames", cuisine:"Egyptian", country:"Egypt", emoji:"ğŸ«˜", flag:"ğŸ‡ªğŸ‡¬", time:20, servings:4, difficulty:1, vegetarian:true, region:"african", desc:"Slow-cooked fava beans seasoned with lemon, garlic and cumin.", ingredients:["2 cans fava beans, drained","4 tbsp olive oil","4 garlic cloves, crushed","2 lemons, juiced","1 tsp cumin","Salt & pepper","Fresh parsley","Chili flakes","Pita bread to serve"], steps:["Heat beans in a pan with a splash of water until hot.","Mash roughly with a fork.","Stir in olive oil, garlic, lemon juice, cumin.","Season with salt, pepper and chili.","Drizzle with more olive oil, scatter parsley.","Serve with warm pita."] },
  { id:19, name:"Spaghetti Carbonara", cuisine:"Italian", country:"Italy", emoji:"ğŸ", flag:"ğŸ‡®ğŸ‡¹", time:25, servings:4, difficulty:2, vegetarian:false, region:"european", desc:"Pasta with guanciale, egg yolks, Pecorino and black pepper.", ingredients:["400g spaghetti","200g guanciale or pancetta, diced","4 egg yolks + 1 whole egg","100g Pecorino Romano, grated","Generous black pepper","Salt"], steps:["Cook pasta in well-salted water until al dente.","Render guanciale in a cold pan, low heat, until crispy. Remove fat.","Whisk eggs with Pecorino and lots of pepper.","Reserve 1 cup pasta water. Drain pasta.","Remove pan from heat, add pasta, toss with guanciale.","Add egg mixture, toss vigorously adding pasta water to create a creamy sauce.","Serve immediately with extra Pecorino."] },
  { id:20, name:"Jollof Rice", cuisine:"West African", country:"Nigeria/Ghana", emoji:"ğŸš", flag:"ğŸ‡³ğŸ‡¬", time:55, servings:6, difficulty:2, vegetarian:false, region:"african", desc:"Fragrant tomato-based one-pot rice beloved across West Africa.", ingredients:["400g long grain rice","1 can crushed tomatoes","2 red peppers, roasted","3 scotch bonnet or regular chillies","2 onions","600ml chicken stock","2 tsp tomato paste","1 tsp thyme","1 tsp all-purpose seasoning","Salt, oil"], steps:["Blend tomatoes, peppers, chillies, 1 onion into a purÃ©e.","Fry 2nd onion in oil 5 min. Add tomato paste, fry 2 min.","Add blended purÃ©e, cook down 15 min until thick and fragrant.","Add stock, thyme, seasoning, bring to boil.","Add washed rice, stir, reduce heat. Cover and cook 25 min.","Stir halfway through. Serve with fried plantain or chicken."] },
  { id:21, name:"Gazpacho", cuisine:"Spanish", country:"Spain", emoji:"ğŸ…", flag:"ğŸ‡ªğŸ‡¸", time:15, servings:4, difficulty:1, vegetarian:true, region:"european", desc:"Chilled blended tomato soup with cucumber, pepper and olive oil.", ingredients:["1kg ripe tomatoes","1 cucumber, peeled","1 red pepper","1 garlic clove","3 tbsp olive oil","2 tbsp sherry vinegar","100ml cold water","Salt & pepper","Basil leaves"], steps:["Roughly chop all vegetables.","Blend everything until completely smooth.","Pass through a sieve for a silky texture (optional).","Season well with salt, vinegar, and olive oil.","Chill at least 1 hour.","Serve cold with a drizzle of olive oil and basil."] },
  { id:22, name:"Bibimbap", cuisine:"Korean", country:"South Korea", emoji:"ğŸ±", flag:"ğŸ‡°ğŸ‡·", time:35, servings:2, difficulty:2, vegetarian:true, region:"asian", desc:"Colorful bowl of rice, seasoned vegetables and gochujang sauce.", ingredients:["2 cups cooked rice","1 carrot, julienned","100g spinach","100g bean sprouts","2 eggs","2 tbsp gochujang","1 tbsp sesame oil","1 tbsp soy sauce","1 tsp sugar","Sesame seeds","Garlic"], steps:["SautÃ© carrot with garlic and sesame oil 3 min. Season.","Blanch spinach 30 sec, squeeze dry, season with soy and sesame.","Blanch bean sprouts 1 min, dress with sesame oil.","Fry eggs sunny-side-up.","Arrange rice in bowls. Top with vegetables in sections.","Place egg on top. Mix gochujang with sesame oil and sugar.","Add sauce and mix everything together at the table."] },
  { id:23, name:"Borek (Turkish Cheese Pastry)", cuisine:"Turkish", country:"Turkey", emoji:"ğŸ¥", flag:"ğŸ‡¹ğŸ‡·", time:45, servings:6, difficulty:2, vegetarian:true, region:"middle-eastern", desc:"Flaky filo pastry filled with white cheese and fresh herbs.", ingredients:["6 filo pastry sheets","250g feta cheese, crumbled","100g ricotta","2 eggs","Fresh parsley and dill","4 tbsp olive oil","Black pepper","Sesame seeds"], steps:["Mix feta, ricotta, eggs, herbs and pepper.","Brush filo sheets with olive oil, layering 2 sheets.","Spread filling, roll or fold into desired shape.","Brush top with egg wash, sprinkle sesame seeds.","Bake at 180Â°C for 30 min until crispy and golden.","Cool slightly before slicing."] },
  { id:24, name:"Pho Bo", cuisine:"Vietnamese", country:"Vietnam", emoji:"ğŸœ", flag:"ğŸ‡»ğŸ‡³", time:45, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Fragrant beef noodle soup with star anise, cinnamon and ginger.", ingredients:["1.5L beef stock","200g beef sirloin, thinly sliced","200g rice noodles","2 star anise","1 cinnamon stick","3 slices ginger","1 onion, halved charred","2 tbsp fish sauce","Bean sprouts, basil, lime to serve"], steps:["Char ginger and onion under broiler 5 min.","Simmer stock with star anise, cinnamon, charred ginger and onion 20 min. Strain.","Season broth with fish sauce.","Cook rice noodles, divide into bowls.","Pour hot broth over noodles.","Add raw beef slices (they cook in the broth).","Serve with bean sprouts, basil, lime and chili on the side."] },
  { id:25, name:"Egusi Soup", cuisine:"West African", country:"Nigeria", emoji:"ğŸ«•", flag:"ğŸ‡³ğŸ‡¬", time:50, servings:4, difficulty:2, vegetarian:false, region:"african", desc:"Thick melon-seed soup with leafy greens and smoked fish.", ingredients:["200g ground egusi (melon seeds)","400g beef or goat, cubed","100g smoked fish","2 cups spinach or bitter leaf","2 tomatoes","2 red peppers","1 onion","2 tbsp palm oil","Stockfish (optional)","Salt, seasoning cubes"], steps:["Blend tomatoes, peppers, onion into a paste.","Heat palm oil, fry blended paste 10 min.","Mix egusi with a little water to form a paste.","Add egusi paste in small lumps to the pot. Cook 10 min.","Add pre-cooked meat and smoked fish.","Add stock and leafy greens. Simmer 10 min.","Adjust seasoning. Serve with pounded yam or eba."] },
  { id:26, name:"Spanakopita", cuisine:"Greek", country:"Greece", emoji:"ğŸ¥¬", flag:"ğŸ‡¬ğŸ‡·", time:55, servings:8, difficulty:2, vegetarian:true, region:"european", desc:"Crispy filo pie stuffed with spinach and tangy feta cheese.", ingredients:["500g fresh spinach","250g feta, crumbled","2 eggs","1 onion, diced","2 garlic cloves","Fresh dill","8 filo sheets","Olive oil","Nutmeg","Salt & pepper"], steps:["Wilt spinach, squeeze dry. Chop.","SautÃ© onion and garlic. Mix with spinach, feta, eggs, dill, nutmeg.","Layer 4 filo sheets in oiled baking tin, brushing each with oil.","Add filling. Layer remaining 4 sheets on top.","Score top layers, brush with oil.","Bake at 190Â°C for 35 min until golden.","Cool 10 min before cutting."] },
  { id:27, name:"Borscht", cuisine:"Ukrainian", country:"Ukraine", emoji:"ğŸ«•", flag:"ğŸ‡ºğŸ‡¦", time:55, servings:6, difficulty:2, vegetarian:false, region:"european", desc:"Deep crimson beet soup with cabbage, potato and sour cream.", ingredients:["3 large beets, grated","300g cabbage, shredded","2 potatoes, cubed","2 carrots, grated","1 onion, diced","2 garlic cloves","1.5L beef or vegetable stock","2 tbsp tomato paste","2 tbsp vinegar","Salt & pepper","Sour cream and dill to serve"], steps:["SautÃ© onion and carrot in oil 5 min.","Add beets, tomato paste, cook 5 min.","Pour in stock, add potato and cabbage.","Simmer 30 min until all vegetables are tender.","Add vinegar, season well.","Serve hot with a dollop of sour cream and fresh dill."] },
  { id:28, name:"Hummus", cuisine:"Levantine", country:"Lebanon/Israel", emoji:"ğŸ¥£", flag:"ğŸ‡±ğŸ‡§", time:10, servings:6, difficulty:1, vegetarian:true, region:"middle-eastern", desc:"Ultra-smooth chickpea and tahini dip with olive oil and paprika.", ingredients:["2 cans chickpeas (save liquid)","4 tbsp tahini","3 garlic cloves","3 lemons, juiced","4 tbsp olive oil","Ice cubes","Salt","Paprika and parsley to serve"], steps:["Blend chickpeas, tahini, garlic, lemon juice with ice cubes.","Add saved liquid and blend 5+ min until silky smooth.","Season generously with salt.","Spread onto plate, make a well in the centre.","Drizzle with olive oil, dust with paprika.","Garnish with parsley and a few whole chickpeas."] },
  { id:29, name:"Chilaquiles Rojos", cuisine:"Mexican", country:"Mexico", emoji:"ğŸ«”", flag:"ğŸ‡²ğŸ‡½", time:25, servings:4, difficulty:1, vegetarian:true, region:"latin-american", desc:"Crispy tortillas simmered in red salsa, topped with eggs and crema.", ingredients:["8 corn tortillas, cut into triangles","4 tomatoes","2 dried ancho chillies","1 garlic clove","Onion","Oil","4 eggs","Mexican crema or sour cream","Queso fresco","Fresh coriander"], steps:["Bake or fry tortilla triangles until crispy.","Blend tomatoes, rehydrated chillies, garlic, onion. SautÃ© in oil 5 min.","Add Â½ cup water, simmer 10 min.","Add tortillas, toss to coat. Cook 3 min until slightly softened.","Top with fried eggs, crema, crumbled queso and coriander.","Serve immediately while tortillas still have bite."] },
  { id:30, name:"Ramen", cuisine:"Japanese", country:"Japan", emoji:"ğŸœ", flag:"ğŸ‡¯ğŸ‡µ", time:40, servings:2, difficulty:2, vegetarian:false, region:"asian", desc:"Rich pork bone broth with chewy noodles, soft-boiled egg and chashu.", ingredients:["1L chicken or pork stock","2 portions ramen noodles","2 eggs","200g pork belly, rolled and tied","3 tbsp soy sauce","1 tbsp mirin","Garlic, ginger","Spring onions","Nori sheets","Sesame seeds"], steps:["Simmer pork belly in soy, mirin, garlic and ginger 25 min. Slice.","Soft-boil eggs 6.5 min, peel and marinate in leftover pork liquid.","Heat stock, season with soy sauce.","Cook noodles per package, divide into bowls.","Pour broth over noodles.","Top with pork slices, halved eggs, spring onions, nori."] },
  { id:31, name:"Tagine of Lamb", cuisine:"Moroccan", country:"Morocco", emoji:"ğŸ–", flag:"ğŸ‡²ğŸ‡¦", time:60, servings:4, difficulty:2, vegetarian:false, region:"african", desc:"Slow-braised lamb with apricots, almonds and warming spices.", ingredients:["700g lamb shoulder, cubed","100g dried apricots","50g blanched almonds","2 onions, sliced","3 garlic cloves","1 tsp cinnamon","1 tsp ginger","1 tsp cumin","Â½ tsp turmeric","1 tbsp honey","400ml chicken stock","Oil, salt, fresh coriander"], steps:["Brown lamb in batches. Set aside.","SautÃ© onions until golden. Add garlic and spices, cook 2 min.","Return lamb. Add stock, apricots and honey. Stir.","Simmer covered 45 min until lamb is tender.","Add almonds last 5 min.","Serve with couscous and fresh coriander."] },
  { id:32, name:"Tortilla EspaÃ±ola", cuisine:"Spanish", country:"Spain", emoji:"ğŸ³", flag:"ğŸ‡ªğŸ‡¸", time:35, servings:6, difficulty:2, vegetarian:true, region:"european", desc:"Thick Spanish omelette with potatoes and onions in olive oil.", ingredients:["6 eggs","4 medium potatoes, peeled and thinly sliced","1 large onion, thinly sliced","150ml olive oil","Salt"], steps:["Fry potatoes and onion in olive oil on low heat 20 min until tender, not crispy.","Drain, reserving oil. Season well.","Beat eggs, add potatoes, rest 5 min.","Heat 2 tbsp reserved oil in pan. Pour in egg mix.","Cook medium-low 5 min until edges set.","Flip onto plate, slide back in pan. Cook 3 min.","Rest, slice, serve warm or at room temperature."] },
  { id:33, name:"Dahl (Red Lentil)", cuisine:"Indian", country:"India", emoji:"ğŸ«˜", flag:"ğŸ‡®ğŸ‡³", time:30, servings:4, difficulty:1, vegetarian:true, region:"asian", desc:"Comforting red lentil soup tempered with mustard seeds and curry leaves.", ingredients:["300g red lentils","1 can diced tomatoes","1 onion, diced","4 garlic cloves","1 tsp fresh ginger","1 tsp turmeric","1 tsp cumin","1 tsp mustard seeds","Curry leaves","Coconut milk (optional)","Butter, salt, coriander"], steps:["Rinse lentils. Cook with turmeric in 900ml water 15 min until soft.","Fry mustard seeds in butter until popping. Add curry leaves.","Add onion, cook 5 min. Add garlic and ginger, cook 2 min.","Add tomatoes, cumin, cook 5 min.","Combine with lentils. Simmer 5 min. Season.","Serve over rice with naan."] },
  { id:34, name:"Nasi Goreng", cuisine:"Indonesian", country:"Indonesia", emoji:"ğŸ³", flag:"ğŸ‡®ğŸ‡©", time:20, servings:2, difficulty:1, vegetarian:false, region:"asian", desc:"Indonesian fried rice with sweet soy sauce, shrimp paste and fried egg.", ingredients:["2 cups cooked rice (day-old)","2 eggs","100g shrimp or chicken","2 tbsp kecap manis (sweet soy)","1 tbsp soy sauce","1 tsp shrimp paste","2 garlic cloves","2 shallots","1 red chilli","Spring onions, cucumber to serve"], steps:["Fry shallots, garlic and chilli in oil 2 min.","Add shrimp paste, fry 30 sec.","Add chicken/shrimp, cook 3 min.","Push to side, scramble eggs.","Add rice, kecap manis, soy sauce. Toss 3 min on high heat.","Top with fried egg, spring onions and cucumber."] },
  { id:35, name:"Mapo Tofu", cuisine:"Chinese", country:"China", emoji:"ğŸŒ¶ï¸", flag:"ğŸ‡¨ğŸ‡³", time:25, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Silken tofu in fiery Sichuan sauce with ground pork and fermented black beans.", ingredients:["400g silken tofu, cubed","200g ground pork","2 tbsp doubanjiang (spicy bean paste)","1 tbsp fermented black beans","4 garlic cloves","1 tsp fresh ginger","500ml chicken stock","1 tbsp soy sauce","1 tsp Sichuan peppercorn, ground","Spring onions","Cornstarch slurry","Oil"], steps:["Fry ground pork until cooked. Set aside.","Fry doubanjiang and black beans 1 min.","Add garlic and ginger, fry 30 sec.","Add stock, soy sauce, bring to simmer.","Gently add tofu. Simmer 3 min.","Return pork. Thicken with cornstarch slurry.","Top with Sichuan pepper and spring onions."] },
  { id:36, name:"Coq au Vin", cuisine:"French", country:"France", emoji:"ğŸ·", flag:"ğŸ‡«ğŸ‡·", time:60, servings:4, difficulty:2, vegetarian:false, region:"european", desc:"Chicken braised in red wine with mushrooms, lardons and herbs.", ingredients:["1 whole chicken, jointed","1 bottle red wine","200g bacon lardons","300g mushrooms","12 pearl onions","3 garlic cloves","2 tbsp tomato paste","Thyme, bay leaf","Chicken stock","Flour, butter, oil","Salt & pepper"], steps:["Brown chicken pieces in oil. Set aside.","Fry lardons, then onions until golden.","Add garlic, tomato paste, cook 1 min.","Return chicken, add wine and stock to cover halfway.","Add herbs, bring to simmer. Cover and cook 35 min.","Add mushrooms last 10 min.","Thicken sauce with butter and flour. Season."] },
  { id:37, name:"Doro Wat", cuisine:"Ethiopian", country:"Ethiopia", emoji:"ğŸ«•", flag:"ğŸ‡ªğŸ‡¹", time:55, servings:4, difficulty:3, vegetarian:false, region:"african", desc:"Ethiopian chicken stew slow-cooked in rich berbere spice and niter kibbeh.", ingredients:["1 whole chicken, jointed","2 onions, finely diced","4 tbsp berbere spice paste","3 tbsp niter kibbeh or butter","4 garlic cloves","1 tsp ginger","4 hard-boiled eggs, pierced","Â½ lemon juiced","Salt"], steps:["Dry-fry onions 10 min with no oil until soft and dark.","Add niter kibbeh and berbere, cook 5 min.","Add garlic and ginger, cook 2 min.","Add chicken, coat in spice paste, add 400ml water.","Simmer covered 30 min.","Add eggs and lemon. Cook 5 more min.","Serve with injera bread."] },
  { id:38, name:"Gyoza", cuisine:"Japanese", country:"Japan", emoji:"ğŸ¥Ÿ", flag:"ğŸ‡¯ğŸ‡µ", time:35, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Pan-fried dumplings with pork and cabbage, crispy on one side.", ingredients:["300g ground pork","200g cabbage, finely chopped","2 garlic cloves, minced","1 tsp fresh ginger","1 tbsp soy sauce","1 tbsp sesame oil","24 gyoza wrappers","Oil","Dipping sauce: soy, rice vinegar, chili oil"], steps:["Salt cabbage, rest 10 min, squeeze out liquid.","Mix pork, cabbage, garlic, ginger, soy, sesame oil.","Place 1 tsp filling in each wrapper, fold and pleat to seal.","Heat oil in flat pan. Place gyoza flat-side down.","Fry 2 min until golden. Add 60ml water, cover immediately.","Steam 3 min until water evaporates. Serve golden-side up.","Serve with dipping sauce."] },
  { id:39, name:"Cassoulet", cuisine:"French", country:"France", emoji:"ğŸ«˜", flag:"ğŸ‡«ğŸ‡·", time:60, servings:6, difficulty:3, vegetarian:false, region:"european", desc:"Hearty white bean stew with sausage, duck confit and crispy breadcrumb crust.", ingredients:["2 cans white beans","4 Toulouse sausages","2 duck confit legs","200g bacon lardons","1 onion","3 garlic cloves","1 can crushed tomatoes","600ml chicken stock","Fresh thyme, bay leaf","Breadcrumbs","Salt & pepper"], steps:["Brown sausages and lardons. Set aside. Brown duck confit.","SautÃ© onion and garlic 5 min.","Add tomatoes, stock, herbs, bring to simmer.","Add all beans, meats.","Top with thick layer of breadcrumbs.","Bake at 180Â°C for 30 min until breadcrumbs are golden.","Push down crust halfway through. Serve from the dish."] },
  { id:40, name:"Mole Negro", cuisine:"Mexican", country:"Mexico", emoji:"ğŸ«", flag:"ğŸ‡²ğŸ‡½", time:60, servings:6, difficulty:3, vegetarian:false, region:"latin-american", desc:"Complex dark sauce with chocolate, dried chillies and spices over chicken.", ingredients:["1 whole chicken, jointed","4 dried ancho chillies","2 pasilla chillies","30g dark chocolate","2 tomatoes","1 onion","3 garlic cloves","1 tbsp sesame seeds","1 tortilla (stale)","1 tsp cumin","Â½ tsp cinnamon","Chicken stock"], steps:["Toast and rehydrate chillies 20 min.","Toast sesame seeds and torn tortilla in dry pan until dark.","Blend chillies, tomatoes, onion, garlic, chocolate, seeds, tortilla.","Fry paste in oil 10 min, stirring constantly.","Add chicken stock to desired consistency. Simmer 20 min.","Poach chicken in mole 25 min.","Serve with sesame seeds and warm tortillas."] },
  { id:41, name:"Lamb Kofta", cuisine:"Turkish/Levantine", country:"Turkey", emoji:"ğŸ¢", flag:"ğŸ‡¹ğŸ‡·", time:30, servings:4, difficulty:1, vegetarian:false, region:"middle-eastern", desc:"Grilled spiced lamb meatballs on skewers with yogurt dip.", ingredients:["500g ground lamb","1 onion, grated","2 garlic cloves","1 tsp cumin","1 tsp coriander","Â½ tsp cinnamon","Â½ tsp chili","Fresh parsley","Salt & pepper","Greek yogurt and mint to serve"], steps:["Mix lamb with grated onion, garlic, spices and parsley.","Season well, refrigerate 15 min.","Shape into oval patties or cylinders around skewers.","Grill on high heat 4 min per side.","Serve with flatbread, tomato salad and yogurt-mint sauce."] },
  { id:42, name:"Poke Bowl", cuisine:"Hawaiian", country:"Hawaii/USA", emoji:"ğŸŸ", flag:"ğŸ‡ºğŸ‡¸", time:20, servings:2, difficulty:1, vegetarian:false, region:"north-american", desc:"Fresh tuna marinated in soy and sesame over rice with toppings.", ingredients:["300g sushi-grade tuna, diced","2 cups cooked sushi rice","3 tbsp soy sauce","1 tbsp sesame oil","1 tsp sriracha","Avocado, sliced","Cucumber, sliced","Edamame","Seaweed salad","Sesame seeds","Spring onions"], steps:["Mix soy sauce, sesame oil, sriracha.","Marinate tuna 10 min in sauce.","Divide warm rice into bowls.","Arrange tuna and all toppings over rice.","Drizzle with any extra marinade.","Top with sesame seeds and spring onions."] },
  { id:43, name:"Chicken Yassa", cuisine:"Senegalese", country:"Senegal", emoji:"ğŸ‹", flag:"ğŸ‡¸ğŸ‡³", time:50, servings:4, difficulty:2, vegetarian:false, region:"african", desc:"Caramelized onion and lemon chicken stew from Casamance.", ingredients:["1 chicken, jointed","4 large onions, thinly sliced","4 lemons, juiced","3 garlic cloves","2 scotch bonnets or jalapeÃ±os","2 tbsp Dijon mustard","3 tbsp oil","Salt & pepper","Steamed rice to serve"], steps:["Marinate chicken in lemon juice, half the onions, garlic, mustard overnight or 2 hrs.","Remove chicken, pat dry. Grill or pan-fry 5 min per side.","Fry remaining onions in oil 20 min until golden and caramelized.","Add marinade (strain first), chillies, cook 5 min.","Add chicken, simmer 20 min.","Serve over white rice."] },
  { id:44, name:"Goulash", cuisine:"Hungarian", country:"Hungary", emoji:"ğŸ«•", flag:"ğŸ‡­ğŸ‡º", time:60, servings:6, difficulty:2, vegetarian:false, region:"european", desc:"Paprika-rich beef and potato stew from the Hungarian plains.", ingredients:["800g beef chuck, cubed","4 potatoes, cubed","2 onions, diced","1 red pepper","3 tbsp sweet paprika","1 tsp caraway seeds","2 garlic cloves","1L beef stock","2 tbsp tomato paste","Oil, salt, pepper","Sour cream to serve"], steps:["Brown beef in batches. Set aside.","SautÃ© onions 8 min. Add paprika and caraway off the heat.","Return beef, add garlic, pepper, tomato paste.","Pour in stock, bring to simmer.","Cook covered 30 min. Add potatoes.","Cook 20 more min until potatoes and beef are tender.","Serve with crusty bread and sour cream."] },
  { id:45, name:"Lahmacun", cuisine:"Turkish", country:"Turkey", emoji:"ğŸ«“", flag:"ğŸ‡¹ğŸ‡·", time:35, servings:4, difficulty:2, vegetarian:false, region:"middle-eastern", desc:"Thin crispy Turkish flatbread topped with spiced minced meat.", ingredients:["2 flatbreads or thin pizza bases","300g ground lamb or beef","2 tomatoes, very finely diced","1 onion, grated","2 garlic cloves","1 tbsp tomato paste","1 tsp paprika","Â½ tsp cumin","Â½ tsp chili","Fresh parsley","Lemon wedges to serve"], steps:["Mix meat with all vegetables, paste and spices.","Spread thinly over flatbreads right to the edges.","Bake at 230Â°C for 8â€“10 min until edges are crispy.","Top with fresh parsley and squeeze of lemon.","Roll up or fold to eat."] },
  { id:46, name:"Khachapuri", cuisine:"Georgian", country:"Georgia", emoji:"ğŸ§€", flag:"ğŸ‡¬ğŸ‡ª", time:40, servings:4, difficulty:2, vegetarian:true, region:"european", desc:"Boat-shaped Georgian cheese bread with a runny egg in the centre.", ingredients:["400g pizza dough","400g Suluguni or mozzarella, grated","100g feta","3 eggs","50g butter","Salt"], steps:["Roll dough into oval shapes.","Mix cheeses. Spread over dough leaving a thick rim.","Shape sides upward into a boat, pinching the ends.","Bake at 230Â°C for 15 min until golden.","Make a well in the cheese. Add 1 egg yolk and butter to each.","Return to oven 3 min. Egg should remain runny.","Stir at the table and dip the bread ends in."] },
  { id:47, name:"Tabbouleh", cuisine:"Lebanese", country:"Lebanon", emoji:"ğŸŒ¿", flag:"ğŸ‡±ğŸ‡§", time:20, servings:4, difficulty:1, vegetarian:true, region:"middle-eastern", desc:"Fresh herb salad with bulgur wheat, tomatoes and abundant lemon.", ingredients:["100g fine bulgur wheat","4 cups fresh flat-leaf parsley, finely chopped","1 cup fresh mint, finely chopped","3 tomatoes, finely diced","4 spring onions, sliced","4 lemons, juiced","4 tbsp olive oil","Salt & pepper"], steps:["Soak bulgur in lemon juice and cold water 20 min. Squeeze dry.","Chop parsley very finely â€” this is the main ingredient.","Combine all ingredients.","Season generously with lemon, olive oil, salt.","Taste: should be tangy and fresh.","Serve immediately or rest 15 min for flavors to meld."] },
  { id:48, name:"Chicken Shawarma", cuisine:"Levantine", country:"Lebanon", emoji:"ğŸ«”", flag:"ğŸ‡±ğŸ‡§", time:35, servings:4, difficulty:1, vegetarian:false, region:"middle-eastern", desc:"Marinated chicken with warm spices, served in flatbread with garlic sauce.", ingredients:["600g chicken thighs","1 tsp turmeric","1 tsp cumin","1 tsp coriander","1 tsp paprika","Â½ tsp cinnamon","3 garlic cloves","3 tbsp olive oil","2 tbsp lemon juice","Flatbreads, garlic sauce, pickles"], steps:["Marinate chicken in all spices, oil and lemon juice at least 30 min.","Grill or oven-roast at 220Â°C for 20â€“25 min.","Rest 5 min, slice thinly.","Warm flatbreads.","Layer chicken with garlic sauce, pickled vegetables and fresh parsley.","Roll tightly and serve."] },
  { id:49, name:"Sweet Potato Curry", cuisine:"Sri Lankan", country:"Sri Lanka", emoji:"ğŸ ", flag:"ğŸ‡±ğŸ‡°", time:35, servings:4, difficulty:1, vegetarian:true, region:"asian", desc:"Creamy coconut milk curry with tender sweet potato and aromatic spices.", ingredients:["2 large sweet potatoes, cubed","1 can coconut milk","1 can diced tomatoes","1 onion","3 garlic cloves","1 tbsp fresh ginger","2 tsp curry powder","1 tsp turmeric","1 tsp chili flakes","Fresh coriander","Lime","Oil, salt"], steps:["Fry onion in oil 6 min. Add garlic, ginger, spices, cook 2 min.","Add sweet potato, coat in spices.","Add tomatoes and coconut milk.","Simmer 20 min until sweet potato is tender.","Season with lime juice and salt.","Serve over rice with fresh coriander."] },
  { id:50, name:"Pierogi", cuisine:"Polish", country:"Poland", emoji:"ğŸ¥Ÿ", flag:"ğŸ‡µğŸ‡±", time:50, servings:6, difficulty:3, vegetarian:true, region:"european", desc:"Soft dumplings filled with potato and cheese, fried in butter.", ingredients:["300g flour","1 egg","150ml sour cream","400g potatoes, boiled mashed","150g cheddar or Polish cheese, grated","1 onion, caramelized","Salt","Butter for frying","Sour cream and spring onions to serve"], steps:["Mix flour, egg, sour cream and salt into smooth dough. Rest 30 min.","Mix potato, cheese and caramelized onion. Season.","Roll dough thin, cut into circles.","Fill each, fold and press edges firmly to seal.","Boil in salted water 4â€“5 min until they float.","Fry in butter until golden on both sides.","Serve with sour cream and spring onions."] },
  { id:51, name:"Sushi Rolls (Maki)", cuisine:"Japanese", country:"Japan", emoji:"ğŸ£", flag:"ğŸ‡¯ğŸ‡µ", time:45, servings:4, difficulty:2, vegetarian:false, region:"asian", desc:"Classic nori-wrapped rice rolls with cucumber, avocado and tuna.", ingredients:["2 cups sushi rice","4 nori sheets","1 cucumber, julienned","1 avocado, sliced","150g fresh tuna or smoked salmon","3 tbsp rice vinegar","1 tbsp sugar","1 tsp salt","Soy sauce, wasabi, pickled ginger"], steps:["Cook rice, dress with vinegar, sugar and salt while warm.","Place nori shiny-side down on a bamboo mat.","Spread rice evenly, leaving 2cm at the top.","Lay fillings in a line across the middle.","Roll tightly using the mat. Seal the edge with water.","Slice with a wet sharp knife.","Serve with soy sauce, wasabi and ginger."] },
  { id:52, name:"Birria Tacos", cuisine:"Mexican", country:"Mexico", emoji:"ğŸŒ®", flag:"ğŸ‡²ğŸ‡½", time:60, servings:6, difficulty:3, vegetarian:false, region:"latin-american", desc:"Braised chile-spiced beef served in corn tortillas with consommÃ© for dipping.", ingredients:["800g beef chuck","3 dried guajillo chillies","2 ancho chillies","2 tomatoes","4 garlic cloves","1 onion","1 tsp cumin","1 tsp oregano","1 cinnamon stick","Corn tortillas","Cheese to melt","Cilantro, onion to garnish"], steps:["Toast and rehydrate chillies 15 min. Blend with tomatoes, garlic, onion and spices.","Brown beef, add sauce and 1L water.","Simmer covered 45 min until tender. Shred beef.","Reserve broth (consommÃ©) for dipping.","Dip tortillas in broth fat, fill with beef and cheese, fold.","Pan-fry both sides until crispy.","Serve with consommÃ© for dipping."] },
  { id:53, name:"Chicken Souvlaki", cuisine:"Greek", country:"Greece", emoji:"ğŸ¢", flag:"ğŸ‡¬ğŸ‡·", time:30, servings:4, difficulty:1, vegetarian:false, region:"european", desc:"Grilled marinated chicken skewers with tzatziki and warm pita.", ingredients:["600g chicken breast, cubed","3 tbsp olive oil","2 lemons, juiced","3 garlic cloves","1 tsp oregano","Salt & pepper","Pita breads","Tzatziki sauce","Tomatoes, onion, lettuce"], steps:["Mix oil, lemon, garlic, oregano. Marinate chicken 30 min.","Thread onto skewers.","Grill on high heat 3â€“4 min per side.","Warm pita breads.","Serve skewers in pita with tzatziki, tomato and onion."] },
  { id:54, name:"Aloo Gobi", cuisine:"Indian", country:"India", emoji:"ğŸ¥¦", flag:"ğŸ‡®ğŸ‡³", time:30, servings:4, difficulty:1, vegetarian:true, region:"asian", desc:"Dry-spiced cauliflower and potato with turmeric and cumin.", ingredients:["1 head cauliflower, florets","3 potatoes, cubed","1 onion, diced","3 garlic cloves","1 tbsp fresh ginger","1 tsp cumin seeds","1 tsp turmeric","1 tsp coriander","Â½ tsp garam masala","2 tomatoes, diced","Oil, salt, coriander leaves"], steps:["Heat oil, fry cumin seeds 30 sec.","Add onion, cook 5 min. Add garlic and ginger.","Add turmeric, coriander. Stir 1 min.","Add potato, toss, cook covered 8 min.","Add cauliflower and tomatoes. Cover, cook 10 min.","Add garam masala, season.","Serve with chapati or rice."] },
  { id:55, name:"Riz Gras (Fatty Rice)", cuisine:"West African", country:"Mali/Guinea", emoji:"ğŸš", flag:"ğŸ‡²ğŸ‡±", time:55, servings:6, difficulty:2, vegetarian:false, region:"african", desc:"Rich one-pot rice cooked with meat, vegetables and groundnut oil.", ingredients:["400g long grain rice","500g chicken pieces","2 carrots, sliced","2 potatoes, cubed","1 onion","3 garlic cloves","2 tomatoes, blended","3 tbsp tomato paste","3 tbsp groundnut oil","Salt, pepper, maggi cubes","Cabbage wedges"], steps:["Brown chicken in groundnut oil. Set aside.","Fry onion in the same oil. Add tomatoes and paste, cook 10 min.","Add vegetables and chicken, stir.","Add 900ml water, salt and seasoning cubes. Bring to boil.","Add rice, stir, reduce heat. Cook covered 25 min.","Check halfway and add water if needed.","Serve in layers with the vegetables on top."] },
  { id:56, name:"Banh Mi", cuisine:"Vietnamese", country:"Vietnam", emoji:"ğŸ¥–", flag:"ğŸ‡»ğŸ‡³", time:20, servings:2, difficulty:1, vegetarian:false, region:"asian", desc:"Crispy baguette with pÃ¢tÃ©, pickled vegetables, herbs and pork.", ingredients:["2 baguettes","200g pork belly or char siu pork","2 tbsp pÃ¢tÃ©","2 tbsp mayonnaise","1 cucumber, julienned","1 carrot, pickled in vinegar and sugar","Fresh coriander","Sliced jalapeÃ±os","Soy sauce"], steps:["Quick-pickle carrot and cucumber in vinegar, sugar and salt 15 min.","Slice pork thinly.","Split baguette and lightly toast.","Spread pÃ¢tÃ© on one side, mayo on the other.","Layer pork, pickled vegetables, coriander and jalapeÃ±os.","Drizzle with soy sauce. Press together and eat."] },
  { id:57, name:"Arepas", cuisine:"Colombian/Venezuelan", country:"Colombia", emoji:"ğŸ«“", flag:"ğŸ‡¨ğŸ‡´", time:25, servings:4, difficulty:1, vegetarian:true, region:"latin-american", desc:"Grilled corn cakes filled with cheese, avocado or black beans.", ingredients:["2 cups masarepa (white corn flour)","2 cups warm water","1 tsp salt","100g queso blanco or mozzarella, grated","Butter for grilling","Avocado or beans to fill"], steps:["Mix masarepa, water and salt into a smooth dough.","Incorporate cheese into dough.","Shape into round patties about 1cm thick.","Grill or pan-fry in butter 5 min per side until golden.","Slit open to fill with avocado, beans or more cheese."] },
  { id:58, name:"Lamb Biryani", cuisine:"Indian/Pakistani", country:"India", emoji:"ğŸ›", flag:"ğŸ‡®ğŸ‡³", time:60, servings:6, difficulty:3, vegetarian:false, region:"asian", desc:"Fragrant layered rice and lamb dish with saffron and crispy onions.", ingredients:["500g lamb, cubed","400g basmati rice","2 onions, thinly sliced","1 cup plain yogurt","4 garlic cloves","1 tbsp ginger","2 tsp garam masala","1 tsp turmeric","Saffron in warm milk","Whole spices: bay, cloves, cardamom, cinnamon","Ghee, mint leaves, oil"], steps:["Fry onions until deep golden/crispy. Set aside.","Marinate lamb in yogurt, garlic, ginger, garam masala, turmeric 30 min.","Brown marinated lamb 8 min.","Par-cook rice with whole spices until 70% done.","Layer rice over lamb, drizzle saffron milk and ghee.","Top with crispy onions and mint.","Cover tightly and dum (steam) on low 20 min.","Mix gently to serve."] },
  { id:59, name:"Sopa de Lima", cuisine:"Yucatecan", country:"Mexico", emoji:"ğŸ‹", flag:"ğŸ‡²ğŸ‡½", time:35, servings:4, difficulty:1, vegetarian:false, region:"latin-american", desc:"Bright Yucatecan chicken soup with fragrant limes and crispy tortilla strips.", ingredients:["4 chicken thighs","1.5L chicken stock","3 Yucatecan limes or regular limes, juiced","1 onion, quartered","3 garlic cloves","1 tomato","Dried oregano","Corn tortillas, fried crispy","Avocado, coriander to serve"], steps:["Simmer chicken, onion, garlic, tomato and oregano in stock 20 min.","Shred chicken. Strain and return stock to pan.","Add lime juice to broth.","Add chicken back, simmer 5 min.","Season well.","Serve topped with crispy tortilla strips, avocado and coriander."] },
  { id:60, name:"Macarons", cuisine:"French", country:"France", emoji:"ğŸ«", flag:"ğŸ‡«ğŸ‡·", time:60, servings:20, difficulty:3, vegetarian:true, region:"european", desc:"Delicate almond meringue shells with flavoured ganache filling.", ingredients:["200g icing sugar","120g ground almonds","3 egg whites (aged)","30g caster sugar","Pinch cream of tartar","For ganache: 100g dark chocolate, 80ml cream, 20g butter"], steps:["Sift icing sugar and almonds together twice.","Whip egg whites with cream of tartar until foamy. Add caster sugar, whip to stiff peaks.","Fold dry ingredients into meringue (macaronage) until lava-like.","Pipe 3cm circles onto lined tray. Tap to release bubbles.","Rest 30â€“40 min until skin forms.","Bake at 150Â°C for 14 min.","Cool completely. Fill pairs with ganache."] }
];

// â”€â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let allRecipes = [...SEED_RECIPES];
let filteredRecipes = [...allRecipes];
let activeFilter = 'all';
let searchQuery = '';
const TARGET = 365;

// â”€â”€â”€ STORAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function loadStoredRecipes() {
  try {
    const result = await window.storage.get('extra-recipes');
    if (result && result.value) {
      const stored = JSON.parse(result.value);
      // Merge, avoiding duplicates by id
      const existingIds = new Set(allRecipes.map(r => r.id));
      stored.forEach(r => { if (!existingIds.has(r.id)) { allRecipes.push(r); existingIds.add(r.id); } });
    }
  } catch(e) { /* No stored recipes yet */ }
}

async function saveRecipes(newRecipes) {
  try {
    // Save all non-seed recipes
    const toStore = allRecipes.filter(r => r.id > 60);
    await window.storage.set('extra-recipes', JSON.stringify(toStore));
  } catch(e) { console.log('Storage error:', e); }
}

// â”€â”€â”€ RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function applyFilters() {
  filteredRecipes = allRecipes.filter(r => {
    const matchSearch = !searchQuery ||
      r.name.toLowerCase().includes(searchQuery) ||
      r.cuisine.toLowerCase().includes(searchQuery) ||
      r.country.toLowerCase().includes(searchQuery) ||
      r.desc.toLowerCase().includes(searchQuery);

    const matchFilter = activeFilter === 'all' ||
      (activeFilter === 'vegetarian' && r.vegetarian) ||
      (activeFilter === 'under-30' && r.time <= 30) ||
      r.region === activeFilter;

    return matchSearch && matchFilter;
  });

  renderGrid();
  updateCounts();
}

function renderGrid() {
  const grid = document.getElementById('recipeGrid');
  if (filteredRecipes.length === 0) {
    grid.innerHTML = `<div class="empty-state" style="grid-column:1/-1"><div class="big-emoji">ğŸ”</div><h3>No recipes found</h3><p>Try a different search or filter.</p></div>`;
    return;
  }
  grid.innerHTML = filteredRecipes.map((r, i) => `
    <div class="recipe-card" style="animation-delay:${Math.min(i,20)*0.04}s" onclick="openModal(${r.id})">
      <div class="card-emoji">
        ${r.emoji}
        <span class="card-flag">${r.flag}</span>
        <span class="card-time">â± ${r.time} min</span>
      </div>
      <div class="card-body">
        <div class="card-cuisine">${r.cuisine}</div>
        <div class="card-name">${r.name}</div>
        <div class="card-desc">${r.desc}</div>
      </div>
      <div class="card-footer">
        <span class="card-servings">ğŸ‘¥ ${r.servings} servings</span>
        <span class="difficulty">
          ${[1,2,3].map(d => `<span class="difficulty-dot ${d <= r.difficulty ? 'filled' : ''}"></span>`).join('')}
        </span>
      </div>
    </div>
  `).join('');
}

function updateCounts() {
  document.getElementById('loadedCount').textContent = allRecipes.length;
  document.getElementById('visibleCount').textContent = `${filteredRecipes.length} recipe${filteredRecipes.length !== 1 ? 's' : ''}`;

  const pct = (allRecipes.length / TARGET) * 100;
  document.getElementById('progressBar').style.width = pct + '%';
  document.getElementById('progressLabel').textContent = `${allRecipes.length} of ${TARGET} recipes`;

  const remaining = TARGET - allRecipes.length;
  if (remaining > 0) {
    document.getElementById('loadMoreSection').style.display = 'block';
    document.getElementById('loadMoreDesc').textContent = `${remaining} more recipes to go until you have a full year of cooking!`;
  } else {
    document.getElementById('loadMoreSection').innerHTML = `<div class="load-more-title">ğŸ‰ All 365 Recipes Loaded!</div><div class="load-more-desc">You have a full year of world recipes. Happy cooking!</div>`;
  }
}

// â”€â”€â”€ MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openModal(id) {
  const r = allRecipes.find(x => x.id === id);
  if (!r) return;

  document.getElementById('modalEmoji').textContent = r.emoji + ' ' + r.flag;
  document.getElementById('modalCuisine').textContent = r.cuisine + ' Â· ' + r.country;
  document.getElementById('modalTitle').textContent = r.name;
  document.getElementById('modalDesc').textContent = r.desc;
  document.getElementById('modalMeta').innerHTML = `
    <div class="meta-item"><span class="meta-icon">â±</span><span class="meta-value">${r.time} min</span></div>
    <div class="meta-item"><span class="meta-icon">ğŸ‘¥</span><span class="meta-value">${r.servings} servings</span></div>
    <div class="meta-item"><span class="meta-icon">ğŸ“Š</span><span class="meta-value">${['Easy','Medium','Advanced'][r.difficulty-1]}</span></div>
    ${r.vegetarian ? '<div class="meta-item"><span class="meta-icon">ğŸŒ±</span><span class="meta-value">Vegetarian</span></div>' : ''}
  `;
  document.getElementById('modalIngredients').innerHTML = r.ingredients.map(i =>
    `<li class="ingredient-item"><span class="ingredient-dot"></span>${i}</li>`
  ).join('');
  document.getElementById('modalSteps').innerHTML = r.steps.map((s, i) =>
    `<li class="step-item"><span class="step-num">${i+1}</span><span class="step-text">${s}</span></li>`
  ).join('');

  document.getElementById('modalOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModalDirect() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

function closeModal(e) {
  if (e.target === document.getElementById('modalOverlay')) closeModalDirect();
}

// â”€â”€â”€ GENERATE MORE RECIPES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function loadMoreRecipes() {
  const btn = document.getElementById('loadMoreBtn');
  const btnText = document.getElementById('loadMoreBtnText');
  btn.disabled = true;
  btnText.innerHTML = '<span class="loading-spinner"></span> Generatingâ€¦';

  const remaining = TARGET - allRecipes.length;
  const batch = Math.min(30, remaining);
  const existingNames = allRecipes.map(r => r.name).join(', ');
  const nextId = Math.max(...allRecipes.map(r => r.id)) + 1;

  // Regions to draw from, cycling
  const regionsNeeded = ['asian', 'european', 'african', 'latin-american', 'middle-eastern', 'north-american'];

  const prompt = `You are a world cuisine expert. Generate exactly ${batch} unique, highly-rated recipes from diverse cuisines around the world.

Rules:
- Each recipe must be from a DIFFERENT country/cuisine (spread across ALL regions)
- All simple, easy-to-cook recipes with basic cookware
- No processed foods â€” only whole, fresh ingredients
- Under 60 minutes total from start to finish
- DO NOT repeat any of these existing recipes: ${existingNames}
- Include recipes from: Africa, Asia, Europe, Latin America, Middle East, North America, Oceania â€” spread evenly

Return ONLY valid JSON array, no markdown, no explanation:
[
  {
    "id": ${nextId},
    "name": "Recipe Name",
    "cuisine": "Cuisine Type",
    "country": "Country",
    "emoji": "single food emoji",
    "flag": "country flag emoji",
    "time": 25,
    "servings": 4,
    "difficulty": 1,
    "vegetarian": false,
    "region": "asian|european|african|latin-american|middle-eastern|north-american",
    "desc": "One sentence description",
    "ingredients": ["ingredient 1 with quantity", "ingredient 2"],
    "steps": ["Step 1", "Step 2", "Step 3", "Step 4", "Step 5"]
  }
]

Generate exactly ${batch} recipes now.`;

  try {
    const response = await fetch("/api/generate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ prompt })
    });

    const data = await response.json();
    if (!response.ok) throw new Error(data.error || 'API error');
    const text = data.text || '';
    const clean = text.replace(/```json|```/g, '').trim();
    const newRecipes = JSON.parse(clean);

    // Re-index IDs to avoid collisions
    newRecipes.forEach((r, i) => { r.id = nextId + i; });

    allRecipes = [...allRecipes, ...newRecipes];
    await saveRecipes(newRecipes);
    applyFilters();
    showToast(`âœ¨ ${newRecipes.length} new recipes added!`);
  } catch (err) {
    console.error(err);
    showToast('Something went wrong. Please try again.');
  } finally {
    btn.disabled = false;
    btnText.textContent = 'âœ¨ Generate More Recipes';
  }
}

// â”€â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3000);
}

// â”€â”€â”€ EVENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('searchInput').addEventListener('input', e => {
  searchQuery = e.target.value.toLowerCase();
  applyFilters();
});

document.getElementById('filterButtons').addEventListener('click', e => {
  const btn = e.target.closest('.filter-btn');
  if (!btn) return;
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  activeFilter = btn.dataset.filter;
  applyFilters();
});

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeModalDirect();
});

// â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(async () => {
  await loadStoredRecipes();
  applyFilters();
})();
</script>
</body>
</html>
